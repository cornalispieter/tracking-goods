// i18n.js

window.translations = {
  en: {
    subtitle: "Simple goods tracking with camera & history.",
    languageLabel: "Lang",
    inputSectionTitle: "New update",
    inputSectionSubtitle: "Step 1: item code. Step 2: location.",
    labelCode: "Item code",
    labelCodeHelper: "Type or scan code",
    labelLocation: "Location",
    labelLocationHelper: 'Example: “Warehouse A”',
    btnStartScanner: "Scan",
    btnStopScanner: "Stop",
    btnSaveUpdate: "Save update",
    btnLockCode: "Lock code & next",
    btnChangeCode: "Change code",
    scannerStatusLabel: "Status:",
    scannerIdle: "Idle",
    scannerScanning: "Scanning…",
    scannerDetected: "Code detected",
    scannerStopped: "Scanner stopped",
    step1Label: "Step 1 · Item code",
    step2Label: "Step 2 · Location",
    listTitle: "Tracked items",
    listSubtitle: "One row per unique item code. Latest update shown.",
    itemsLabel: "items",
    colCode: "Code",
    colLocation: "Location",
    colTime: "Updated",
    colActions: "History",
    emptyState: "No items yet. Add an update to see it here.",
    footerHint1: "Each update is stored as history in Supabase.",
    footerHint2: "List is unique per code, history shows all locations.",
    historyTitle: "History",
    historyHint: "Latest first. Each row = one update.",
    historyCountLabel: "logs",
    searchLabel: "Search",
    noResultsSearch: "No items match your search.",
    errorMissingFields: "Please fill code and location first.",
    toastSaved: "Update saved.",
    toastErrorSave: "Failed to save update.",
    toastErrorLoad: "Failed to load items.",
    toastErrorHistory: "Failed to load history."
  },
  nl: {
    subtitle: "Eenvoudige goederen-tracking met camera en historie.",
    languageLabel: "Taal",
    inputSectionTitle: "Nieuwe update",
    inputSectionSubtitle: "Stap 1: artikelcode. Stap 2: locatie.",
    labelCode: "Artikelcode",
    labelCodeHelper: "Typ of scan code",
    labelLocation: "Locatie",
    labelLocationHelper: 'Bijv: “Magazijn A”',
    btnStartScanner: "Scannen",
    btnStopScanner: "Stop",
    btnSaveUpdate: "Opslaan",
    btnLockCode: "Code vastzetten",
    btnChangeCode: "Code wijzigen",
    scannerStatusLabel: "Status:",
    scannerIdle: "Inactief",
    scannerScanning: "Scannen…",
    scannerDetected: "Code gevonden",
    scannerStopped: "Scanner gestopt",
    step1Label: "Stap 1 · Artikelcode",
    step2Label: "Stap 2 · Locatie",
    listTitle: "Geregistreerde items",
    listSubtitle:
      "Eén regel per unieke artikelcode. Laatste update wordt getoond.",
    itemsLabel: "items",
    colCode: "Code",
    colLocation: "Locatie",
    colTime: "Bijgewerkt",
    colActions: "Historie",
    emptyState: "Nog geen items. Voeg een update toe om deze lijst te vullen.",
    footerHint1: "Elke update wordt als historie opgeslagen in Supabase.",
    footerHint2: "Lijst is uniek per code, historie toont alle locaties.",
    historyTitle: "Historie",
    historyHint: "Nieuwste bovenaan. Elke regel = één update.",
    historyCountLabel: "logs",
    searchLabel: "Zoeken",
    noResultsSearch: "Geen items komen overeen met je zoekopdracht.",
    errorMissingFields: "Vul eerst code dan locatie in.",
    toastSaved: "Update opgeslagen.",
    toastErrorSave: "Opslaan van update is mislukt.",
    toastErrorLoad: "Items laden is mislukt.",
    toastErrorHistory: "Historie laden is mislukt."
  },
  id: {
    subtitle: "Tracking barang sederhana dengan kamera & riwayat lokasi.",
    languageLabel: "Bahasa",
    inputSectionTitle: "Update baru",
    inputSectionSubtitle: "Step 1: kode barang. Step 2: lokasi.",
    labelCode: "Kode barang",
    labelCodeHelper: "Ketik atau scan kode",
    labelLocation: "Lokasi",
    labelLocationHelper: 'Contoh: “Gudang A”',
    btnStartScanner: "Scan",
    btnStopScanner: "Stop",
    btnSaveUpdate: "Simpan update",
    btnLockCode: "Kunci kode & lanjut",
    btnChangeCode: "Ganti kode",
    scannerStatusLabel: "Status:",
    scannerIdle: "Diam",
    scannerScanning: "Scanning…",
    scannerDetected: "Kode terdeteksi",
    scannerStopped: "Scanner berhenti",
    step1Label: "Step 1 · Kode barang",
    step2Label: "Step 2 · Lokasi",
    listTitle: "Daftar barang",
    listSubtitle:
      "Satu baris per kode barang unik. Menampilkan update terbaru.",
    itemsLabel: "barang",
    colCode: "Kode",
    colLocation: "Lokasi",
    colTime: "Diupdate",
    colActions: "History",
    emptyState: "Belum ada data. Tambahkan update untuk melihat daftar.",
    footerHint1: "Setiap update disimpan sebagai history di Supabase.",
    footerHint2: "List hanya satu baris per kode, history berisi semua lokasi.",
    historyTitle: "History",
    historyHint: "Terbaru di paling atas. Setiap baris = satu update.",
    historyCountLabel: "log",
    searchLabel: "Cari",
    noResultsSearch: "Tidak ada data yang cocok dengan pencarian.",
    errorMissingFields: "Isi dulu kode barang dan lokasi.",
    toastSaved: "Update tersimpan.",
    toastErrorSave: "Gagal menyimpan update.",
    toastErrorLoad: "Gagal memuat daftar barang.",
    toastErrorHistory: "Gagal memuat history."
  },
  pl: {
    subtitle: "Prosty system śledzenia towarów z kamerą i historią.",
    languageLabel: "Język",
    inputSectionTitle: "Nowa aktualizacja",
    inputSectionSubtitle: "Krok 1: kod towaru. Krok 2: lokalizacja.",
    labelCode: "Kod towaru",
    labelCodeHelper: "Wpisz lub zeskanuj kod",
    labelLocation: "Lokalizacja",
    labelLocationHelper: 'Np. “Magazyn A”',
    btnStartScanner: "Skanuj",
    btnStopScanner: "Stop",
    btnSaveUpdate: "Zapisz",
    btnLockCode: "Zablokuj kod",
    btnChangeCode: "Zmień kod",
    scannerStatusLabel: "Status:",
    scannerIdle: "Bezczynny",
    scannerScanning: "Skanowanie…",
    scannerDetected: "Kod wykryty",
    scannerStopped: "Skaner zatrzymany",
    step1Label: "Krok 1 · Kod towaru",
    step2Label: "Krok 2 · Lokalizacja",
    listTitle: "Śledzone pozycje",
    listSubtitle:
      "Jeden wiersz na unikalny kod towaru. Pokazana ostatnia aktualizacja.",
    itemsLabel: "pozycji",
    colCode: "Kod",
    colLocation: "Lokalizacja",
    colTime: "Zaktualizowano",
    colActions: "Historia",
    emptyState: "Brak danych. Dodaj aktualizację, aby zobaczyć listę.",
    footerHint1:
      "Każda aktualizacja jest zapisywana jako historia w Supabase.",
    footerHint2:
      "Lista jest unikalna per kod, historia pokazuje wszystkie lokalizacje.",
    historyTitle: "Historia",
    historyHint: "Najnowsze na górze. Każdy wiersz = jedna aktualizacja.",
    historyCountLabel: "logów",
    searchLabel: "Szukaj",
    noResultsSearch: "Brak pozycji pasujących do wyszukiwania.",
    errorMissingFields:
      "Najpierw wprowadź kod towaru i lokalizację.",
    toastSaved: "Zapisano aktualizację.",
    toastErrorSave:
      "Nie udało się zapisać aktualizacji.",
    toastErrorLoad:
      "Nie udało się załadować listy.",
    toastErrorHistory:
      "Nie udało się załadować historii."
  }
};

window.currentLang = "en";

window.applyTranslations = function () {
  const dict = window.translations[window.currentLang] || window.translations.en;
  document.querySelectorAll("[data-i18n]").forEach((el) => {
    const key = el.getAttribute("data-i18n");
    if (dict[key]) {
      el.textContent = dict[key];
    }
  });
};
